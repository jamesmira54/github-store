<section class="max-w-7xl mx-auto px-4">
    {% if section.settings.title %}
        <h2 class="text-3xl font-bold text-center mb-8">{{ section.settings.title }}</h2>
    {% endif %}

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for block in section.blocks %}
            {% assign collection = block.settings.collection %}
            {% if collection %}
                <div class="bg-white rounded-lg shadow p-4">
                    <a href="{{ collection.url }}" class="block">
                        {% if collection.image %}
                            <img width="100%" height="100%" src="{{ collection.image | image_url: width: 600 }}" alt="{{ collection.title | escape }}" class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300">
                        {% endif %}
                        <h3 class="text-xl font-semibold mb-2">{{ collection.title }}</h3>
                        <p class="text-gray-600">{{ collection.description | strip_html | truncatewords: 20 }}</p>
                    </a>
                </div>
            {% endif %}
        {% endfor %}
    </div>
</section>

{% schema %}
{
    "name": "Featured Collections",
    "tag": "section",
    "class": "featured-collections",
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Section Title",
            "default": "Featured Collections"
        }
    ],
    "blocks": [
        {
            "type": "collection",
            "name": "Collection",
            "settings": [
                {
                    "type": "collection",
                    "id": "collection",
                    "label": "Select Collection"
                }
            ]
        }
    ],
    "max_blocks": 3,
    "presets": [
        {
            "name": "Featured Collections",
            "blocks": []
        }
    ]
}
{% endschema %}